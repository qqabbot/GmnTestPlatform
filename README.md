# GMN æµ‹è¯•å¹³å°

ä¸€ä¸ªä¼ä¸šçº§çš„è‡ªåŠ¨åŒ–æµ‹è¯•å¹³å°ï¼Œæ”¯æŒ APIã€UIã€App å’Œæ€§èƒ½æµ‹è¯•ã€‚

## ğŸš€ é¡¹ç›®ç»“æ„

```
GmnTestPlatform/
â”œâ”€â”€ backend/              # åç«¯æœåŠ¡ï¼ˆSpring Boot 3.2.0ï¼‰
â”œâ”€â”€ frontend-app/         # å‰ç«¯åº”ç”¨ï¼ˆVue 3 + Viteï¼‰
â””â”€â”€ doc/                  # é¡¹ç›®æ–‡æ¡£
```

---

## âš¡ å¿«é€Ÿå¼€å§‹

### å¯åŠ¨åç«¯
```bash
cd backend
mvn spring-boot:run
```
ğŸ‘‰ åç«¯è¿è¡Œåœ¨ **http://localhost:7777**

### å¯åŠ¨å‰ç«¯
```bash
cd frontend-app
npm install  # é¦–æ¬¡è¿è¡Œéœ€è¦å®‰è£…ä¾èµ–
npm run dev
```
ğŸ‘‰ å‰ç«¯è¿è¡Œåœ¨ **http://localhost:8888**

### æ’å…¥æµ‹è¯•æ•°æ®ï¼ˆå¯é€‰ï¼‰
```bash
./insert_test_data.sh
```

---

## ğŸ“‹ æ ¸å¿ƒåŠŸèƒ½

### âœ… å·²å®ç°åŠŸèƒ½ï¼ˆPhase 3.1ï¼‰

#### API æµ‹è¯•
- âœ… **é¡¹ç›®ä¸æ¨¡å—ç®¡ç†** - å±‚çº§åŒ–ç»„ç»‡æµ‹è¯•ç”¨ä¾‹
- âœ… **æµ‹è¯•ç”¨ä¾‹ç¼–è¾‘å™¨** - åŸºäº Monaco Editor çš„ä¸“ä¸šç¼–è¾‘å™¨
- âœ… **æ­¥éª¤åŒ–æµ‹è¯•** - æ”¯æŒå¤šæ­¥éª¤ API æµç¨‹æµ‹è¯•
- âœ… **å˜é‡ç®¡ç†** - ç¯å¢ƒå˜é‡ã€é¡¹ç›®å˜é‡ã€æ¨¡å—å˜é‡ï¼ˆæ”¯æŒç»§æ‰¿ä¸è¦†ç›–ï¼‰
- âœ… **Dry Run** - é¢„è§ˆå˜é‡è§£æï¼Œä¸å‘é€çœŸå®è¯·æ±‚
- âœ… **æ‰§è¡Œå¼•æ“** - WebClient å“åº”å¼æ‰§è¡Œï¼Œæ”¯æŒè¶…æ—¶ã€é‡è¯•ã€ç†”æ–­
- âœ… **æŠ¥å‘Šä¸­å¿ƒ** - ECharts å¯è§†åŒ– + PDF å¯¼å‡º
- âœ… **Allure æŠ¥å‘Š** - è¯¦ç»†çš„æ‰§è¡Œæ—¥å¿—ä¸æŒ‡æ ‡
- âœ… **Prometheus ç›‘æ§** - å®æ—¶æ€§èƒ½æŒ‡æ ‡

#### é«˜çº§ç‰¹æ€§
- âœ… **Circuit Breaker** - é˜²æ­¢ç³»ç»Ÿè¿‡è½½ï¼ˆResilience4jï¼‰
- âœ… **å˜é‡åŠ å¯†** - æ•æ„Ÿä¿¡æ¯åŠ å¯†å­˜å‚¨ï¼ˆJasyptï¼‰
- âœ… **JSON Schema éªŒè¯** - è‡ªåŠ¨ç”Ÿæˆ Diff æŠ¥å‘Š
- âœ… **SpEL è¡¨è¾¾å¼** - åŠ¨æ€å˜é‡ï¼ˆå¦‚ `${T(System).currentTimeMillis()}`ï¼‰
- âœ… **JSONPath æå–** - ä»å“åº”ä¸­æå–æ•°æ®

### â­ï¸ è§„åˆ’ä¸­ï¼ˆPhase 3.2+ï¼‰
- â­ï¸ UI è‡ªåŠ¨åŒ–æµ‹è¯•ï¼ˆSelenium/Playwrightï¼‰
- â­ï¸ App è‡ªåŠ¨åŒ–æµ‹è¯•ï¼ˆAppiumï¼‰
- â­ï¸ æ€§èƒ½æµ‹è¯•ï¼ˆJMeter/Gatlingï¼‰
- â­ï¸ å˜é‡é®ç½© UI
- â­ï¸ æ‰¹é‡å¯¼å…¥/å¯¼å‡º
- â­ï¸ CI/CD é›†æˆ

---

## ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µ

### ä»€ä¹ˆæ˜¯ Stepï¼ˆæµ‹è¯•æ­¥éª¤ï¼‰ï¼Ÿ

**Step** è®©ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹å¯ä»¥åŒ…å«**å¤šä¸ªè¿ç»­çš„ API è¯·æ±‚**ï¼Œå®ç°å¤æ‚ä¸šåŠ¡æµç¨‹æµ‹è¯•ã€‚

#### ä½¿ç”¨åœºæ™¯ç¤ºä¾‹ï¼š

```
Test Case: "å®Œæ•´ä¸‹å•æµç¨‹"
â”œâ”€ Step 1: ç”¨æˆ·ç™»å½• (POST /login)
â”‚  â””â”€ æå– token åˆ°å˜é‡
â”œâ”€ Step 2: è·å–å•†å“ä¿¡æ¯ (GET /products/123)
â”‚  â””â”€ æå– product_id åˆ°å˜é‡
â”œâ”€ Step 3: æ·»åŠ åˆ°è´­ç‰©è½¦ (POST /cart)
â”‚  â””â”€ ä½¿ç”¨ Step 1 çš„ token
â”œâ”€ Step 4: åˆ›å»ºè®¢å• (POST /orders)
â”‚  â””â”€ ä½¿ç”¨ token å’Œ product_id
â””â”€ Step 5: æ”¯ä»˜è®¢å• (POST /orders/{id}/pay)
   â””â”€ éªŒè¯è®¢å•çŠ¶æ€
```

#### Step çš„ä¼˜åŠ¿ï¼š
âœ… **å˜é‡ä¼ é€’** - å‰ä¸€æ­¥çš„å“åº”æ•°æ®å¯ä»¥æå–å¹¶ç”¨äºåç»­æ­¥éª¤  
âœ… **ä¸šåŠ¡æµç¨‹** - æ¨¡æ‹ŸçœŸå®ç”¨æˆ·æ“ä½œæµç¨‹  
âœ… **å¯å¤ç”¨** - æ­¥éª¤å¯ä»¥å¤åˆ¶ã€é‡æ’åºï¼ˆæ‹–æ‹½æ”¯æŒï¼‰  
âœ… **å¯ç»´æŠ¤** - æ¯ä¸ªæ­¥éª¤ç‹¬ç«‹ç¼–è¾‘ï¼Œé€»è¾‘æ¸…æ™°  

---

### Dry Run vs Run çš„åŒºåˆ«

| ç‰¹æ€§ | **Dry Run** ğŸ” | **Run** â–¶ï¸ |
|------|---------------|-----------|
| **æ˜¯å¦å‘é€è¯·æ±‚** | âŒ ä¸å‘é€ | âœ… å‘é€çœŸå® HTTP è¯·æ±‚ |
| **ä½œç”¨** | é¢„è§ˆå˜é‡è§£æç»“æœ | æ‰§è¡Œæµ‹è¯•å¹¶è¿”å›çœŸå®å“åº” |
| **è¿”å›ç»“æœ** | è§£æåçš„ URLã€Bodyã€Headers | å®é™…çš„ Responseã€çŠ¶æ€ç ã€è€—æ—¶ |
| **å®‰å…¨æ€§** | å®‰å…¨ï¼Œä¸ä¼šä¿®æ”¹æ•°æ® | ä¼šæ‰§è¡ŒçœŸå®æ“ä½œï¼ˆå¯èƒ½ä¿®æ”¹æ•°æ®ï¼‰ |
| **ç”¨é€”** | è°ƒè¯•å˜é‡ã€æ£€æŸ¥è¯­æ³• | çœŸæ­£çš„æµ‹è¯•æ‰§è¡Œ |

#### Dry Run ç¤ºä¾‹

**é…ç½®**ï¼š
```
URL: ${base_url}/users/${user_id}
Body: {"name": "å¼ ä¸‰", "timestamp": "${T(System).currentTimeMillis()}"}
Environment: dev
```

**Dry Run è¿”å›**ï¼š
```json
{
  "resolvedUrl": "https://api-dev.example.com/users/1001",
  "resolvedBody": "{\"name\": \"å¼ ä¸‰\", \"timestamp\": \"1733294395000\"}",
  "variables": {
    "base_url": "https://api-dev.example.com",
    "user_id": "1001"
  }
}
```
ğŸ‘‰ **åªæ˜¯é¢„è§ˆ**ï¼Œæ²¡æœ‰çœŸæ­£å‘é€è¯·æ±‚

#### Run ç¤ºä¾‹

**åŒæ ·çš„é…ç½® â†’ Run æ‰§è¡Œåè¿”å›**ï¼š
```json
{
  "status": "PASS",
  "statusCode": 200,
  "duration": 245,
  "request": {
    "method": "PUT",
    "url": "https://api-dev.example.com/users/1001",
    "body": "{\"name\": \"å¼ ä¸‰\", \"timestamp\": \"1733294395000\"}"
  },
  "response": {
    "statusCode": 200,
    "body": "{\"id\": 1001, \"name\": \"å¼ ä¸‰\", \"updated\": true}"
  }
}
```
ğŸ‘‰ **çœŸæ­£æ‰§è¡Œäº† HTTP è¯·æ±‚**ï¼Œè¿”å›æœåŠ¡å™¨çœŸå®å“åº”

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **æ¡†æ¶**: Spring Boot 3.2.0
- **æ•°æ®åº“**: PostgreSQL
- **HTTP å®¢æˆ·ç«¯**: WebClient (Reactive)
- **éŸ§æ€§**: Resilience4j (Circuit Breaker, Retry, Rate Limiter)
- **è„šæœ¬å¼•æ“**: Groovy
- **æŠ¥å‘Š**: Allure
- **ç›‘æ§**: Micrometer + Prometheus
- **å®‰å…¨**: Jasypt (åŠ å¯†)
- **éªŒè¯**: JSON Schema (Everit)
- **æ•°æ®å¤„ç†**: JSONPath, SpEL

### å‰ç«¯
- **æ¡†æ¶**: Vue 3 (Composition API)
- **æ„å»ºå·¥å…·**: Vite
- **UI åº“**: Element Plus
- **çŠ¶æ€ç®¡ç†**: Pinia
- **ç¼–è¾‘å™¨**: Monaco Editor
- **å›¾è¡¨**: ECharts
- **PDF**: jsPDF + html2canvas
- **æ‹–æ‹½**: vuedraggable

---

## ğŸ“š æ–‡æ¡£

- [API ç«¯ç‚¹æ–‡æ¡£](doc/api_endpoints.md)
- [åç«¯ä»»åŠ¡æ¸…å•](doc/task/backend_tasks.md)
- [å‰ç«¯ä»»åŠ¡æ¸…å•](doc/task/frontend_tasks.md)
- [Phase 3.1 åŠŸèƒ½æ¸…å•](doc/task/phase3.1_tasks.md)
- [Phase 3.2 è§„åˆ’](doc/task/phase3.2_tasks.md)

---

## ğŸ¯ æœ€ä½³å®è·µ

1. **å¼€å‘é˜¶æ®µ**ï¼šå…ˆç”¨ **Dry Run** æ£€æŸ¥å˜é‡æ˜¯å¦æ­£ç¡®è§£æ
2. **æµ‹è¯•é˜¶æ®µ**ï¼šç¡®è®¤æ— è¯¯åå†ç”¨ **Run** æ‰§è¡ŒçœŸå®æµ‹è¯•
3. **Step ä½¿ç”¨**ï¼šå¤æ‚ä¸šåŠ¡æµç¨‹ç”¨å¤šä¸ª Stepï¼Œç®€å•è¯·æ±‚ç”¨å•ä¸ª Test Case
4. **å˜é‡æå–**ï¼šåœ¨ Step ä¸­ä½¿ç”¨ JSONPath æå–å“åº”æ•°æ®ä¾›åç»­æ­¥éª¤ä½¿ç”¨
5. **ç¯å¢ƒéš”ç¦»**ï¼šä½¿ç”¨ä¸åŒç¯å¢ƒå˜é‡éš”ç¦» dev/test/prod é…ç½®

---

## ğŸŒŸ ç‰¹è‰²åŠŸèƒ½

### å˜é‡ç»§æ‰¿æœºåˆ¶
```
Environment Variables (å…¨å±€)
  â†“ (è¦†ç›–)
Project Variables (é¡¹ç›®çº§)
  â†“ (è¦†ç›–)
Module Variables (æ¨¡å—çº§)
```

### æ”¯æŒçš„å˜é‡è¯­æ³•
- `${variable_name}` - æ™®é€šå˜é‡
- `${T(System).currentTimeMillis()}` - SpEL è¡¨è¾¾å¼
- JSONPath æå–: `$.data.user.id`

### æ”¯æŒçš„æ–­è¨€
- çŠ¶æ€ç æ£€æŸ¥: `status_code == 200`
- å“åº”ä½“éªŒè¯: `response.data.id == 1001`
- JSON Schema éªŒè¯
- è‡ªå®šä¹‰ Groovy è„šæœ¬

---

## ğŸ” å®‰å…¨ç‰¹æ€§

- âœ… Secret å˜é‡åŠ å¯†å­˜å‚¨ï¼ˆAES-256ï¼‰
- âœ… æ—¥å¿—è„±æ•
- â­ï¸ ç”¨æˆ·è®¤è¯ä¸æˆæƒï¼ˆPhase 3.2ï¼‰
- â­ï¸ API æ¥å£é‰´æƒï¼ˆPhase 3.2ï¼‰

---

## ğŸ“Š ç›‘æ§ä¸æŒ‡æ ‡

è®¿é—® **http://localhost:7777/actuator/prometheus** æŸ¥çœ‹å®æ—¶æŒ‡æ ‡ï¼š
- JVM å†…å­˜ã€GCã€çº¿ç¨‹
- HTTP è¯·æ±‚è€—æ—¶
- Circuit Breaker çŠ¶æ€
- æ•°æ®åº“è¿æ¥æ± 

é›†æˆ Grafana å¯å®ç°å¯è§†åŒ–ç›‘æ§ã€‚

---

## ç‰ˆæœ¬å†å²

- **V3.1** (2025-12-04) - Step æ¶æ„ã€Monaco Editorã€ECharts Dashboard
- **V3.0** (2025-12-03) - ç¯å¢ƒä¸å˜é‡ç®¡ç†
- **V2.0** (2025-12-02) - æ‰§è¡Œå¼•æ“ä¸æŠ¥å‘Š
- **V1.0** (2025-12-02) - åŸºç¡€ CRUD åŠŸèƒ½

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯

MIT License

---

**Powered by GMN Team** ğŸš€
